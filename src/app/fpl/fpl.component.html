<h1>FPL</h1>

<p class="error" *ngIf="standingsErrors?.status === 403">For temp access accept to proxied data
  <a href="https://cors-anywhere.herokuapp.com">
    {{ corsAnywhereURL }}
  </a>
</p>

<form [formGroup]="leagueForm" *ngIf="this.leagueForm">
  <label>Switch League: </label>
  <input [(ngModel)]="league?.league.id"
  (ngModelChange)="updateLeague()"
  class="form-control"
  formControlName="league?.league.id"/>
  <p class="error" *ngIf="leagueForm.controls['league?.league.id'].hasError('pattern') && (leagueForm.controls['league?.league.id'].dirty || leagueForm.controls['league?.league.id'].touched)">Use only numbers in League ID search</p>
</form>

<!-- <ul>
  <li *ngFor="let player of bootstrap.elements; let i = index">
    <p> {{ player.first_name }} </p>
  </li>
</ul> -->

<h2>League Name: {{ league?.league.name }}</h2>
<ul>
  <li *ngFor="let user of standings | paginate: { itemsPerPage: 5, currentPage: p }">
    <a routerLink="/team/{{ user?.entry }}">
      <app-card>
        <p> {{ user?.rank }} </p>
        <p> {{ user?.entry_name }} </p>
        <p> {{ user?.player_name }} </p>
        <p> {{ user?.event_total }} </p>
        <p> {{ user?.total }} </p>
      </app-card>
    </a>
  </li>
</ul>

<pagination-controls (pageChange)="p = $event"></pagination-controls>

