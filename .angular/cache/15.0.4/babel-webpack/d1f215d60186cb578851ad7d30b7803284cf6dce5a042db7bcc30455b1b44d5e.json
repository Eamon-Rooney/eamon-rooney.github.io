{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/eamon/Documents/eamon-rooney.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet FplComponent = class FplComponent {\n  constructor(_fplService, formBuilder) {\n    this._fplService = _fplService;\n    this.corsAnywhereURL = \"https://cors-anywhere.herokuapp.com\";\n    this.p = 1;\n    this.toogleDGWs = \"Show\";\n    this.leagueForm = formBuilder.group({\n      leagueID: [null, Validators.compose([Validators.required, Validators.pattern(/^[0-9]*$/)])]\n    });\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      (yield _this._fplService.getFplLeague()).subscribe(response => {\n        _this.league = response;\n        _this.standings = _this.league.standings.results;\n      }, error => {\n        _this.standingsErrors = error;\n      });\n      (yield _this._fplService.getFplBootstrap()).subscribe(response => {\n        _this.bootstrap = response;\n        _this.events = _this.bootstrap.events;\n        _this.teams = _this.bootstrap.teams;\n        console.log(\"TEAMS\", _this.teams);\n        _this.gameweek = _this.events.filter(a => a['is_current'] === true);\n        _this.gameweekID = _this.gameweek[0].id;\n        sessionStorage.setItem('GameWeekID', JSON.stringify(_this.gameweekID));\n      });\n    })();\n  }\n  updateLeague() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      (yield _this2._fplService.updateFplLeague(_this2.league.league.id)).subscribe(response => {\n        var _a, _b;\n        _this2.league = response;\n        _this2.standings = (_b = (_a = _this2.league) === null || _a === void 0 ? void 0 : _a.standings) === null || _b === void 0 ? void 0 : _b.results;\n      });\n    })();\n  }\n  toggleDoubleGws() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      _this3.fixtureDGW = 20;\n      _this3.toogleDGWs = _this3.toogleDGWs === \"Show\" ? \"Hide\" : \"Show\";\n      (yield _this3._fplService.getFixtures(_this3.fixtureDGW)).subscribe(response => {\n        _this3.fixtures = response;\n        console.log(\"FIXTURES\", _this3.fixtures);\n      });\n    })();\n  }\n};\nFplComponent = __decorate([Component({\n  selector: 'app-fpl',\n  templateUrl: './fpl.component.html',\n  styleUrls: ['./fpl.component.scss']\n})], FplComponent);\nexport { FplComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AAGjD,SAAiCC,UAAU,QAAQ,gBAAgB;AAS5D,IAAMC,YAAY,GAAlB,MAAMA,YAAY;EAoBvBC,YAAoBC,WAAuB,EACzCC,WAAwB;IADN,gBAAW,GAAXD,WAAW;IAhB/B,oBAAe,GAAW,qCAAqC;IAG/D,MAAC,GAAW,CAAC;IAQb,eAAU,GAAW,MAAM;IAOvB,IAAI,CAACE,UAAU,GAAGD,WAAW,CAACE,KAAK,CAAC;MAClCC,QAAQ,EAAE,CAAC,IAAI,EAAEP,UAAU,CAACQ,OAAO,CAAC,CAACR,UAAU,CAACS,QAAQ,EAAET,UAAU,CAACU,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;KAC3F,CAAC;EACN;EAEMC,QAAQ;IAAA;IAAA;MAEZ,OAAO,KAAI,CAACR,WAAW,CAACS,YAAY,EAAE,EACrCC,SAAS,CAACC,QAAQ,IAAG;QACpB,KAAI,CAACC,MAAM,GAAGD,QAAQ;QACtB,KAAI,CAACE,SAAS,GAAG,KAAI,CAACD,MAAM,CAACC,SAAS,CAACC,OAAO;MAChD,CAAC,EAAEC,KAAK,IAAG;QACT,KAAI,CAACC,eAAe,GAAGD,KAAK;MAC9B,CAAC,CAAE;MAGH,OAAO,KAAI,CAACf,WAAW,CAACiB,eAAe,EAAE,EACxCP,SAAS,CAACC,QAAQ,IAAG;QACpB,KAAI,CAACO,SAAS,GAAGP,QAAQ;QACzB,KAAI,CAACQ,MAAM,GAAG,KAAI,CAACD,SAAS,CAACC,MAAM;QACnC,KAAI,CAACC,KAAK,GAAG,KAAI,CAACF,SAAS,CAACE,KAAK;QACjCC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE,KAAI,CAACF,KAAK,CAAC;QAEhC,KAAI,CAACG,QAAQ,GAAG,KAAI,CAACJ,MAAM,CAACK,MAAM,CAAEC,CAA4B,IAAKA,CAAC,CAAC,YAAY,CAAC,KAAK,IAAI,CAAC;QAC9F,KAAI,CAACC,UAAU,GAAG,KAAI,CAACH,QAAQ,CAAC,CAAC,CAAC,CAACI,EAAE;QACrCC,cAAc,CAACC,OAAO,CAAC,YAAY,EAAEC,IAAI,CAACC,SAAS,CAAC,KAAI,CAACL,UAAU,CAAC,CAAC;MACvE,CAAC,CAAC;IAAC;EAEL;EAEMM,YAAY;IAAA;IAAA;MAEhB,OAAO,MAAI,CAAChC,WAAW,CAACiC,eAAe,CAAC,MAAI,CAACrB,MAAM,CAACA,MAAM,CAACe,EAAE,CAAC,EAC7DjB,SAAS,CAACC,QAAQ,IAAG;;QACpB,MAAI,CAACC,MAAM,GAAGD,QAAQ;QACtB,MAAI,CAACE,SAAS,GAAG,kBAAI,CAACD,MAAM,0CAAEC,SAAS,0CAAEC,OAAO;MAClD,CAAC,CAAC;IAAC;EAEL;EAEMoB,eAAe;IAAA;IAAA;MAEnB,MAAI,CAACC,UAAU,GAAG,EAAE;MACpB,MAAI,CAACC,UAAU,GAAG,MAAI,CAACA,UAAU,KAAK,MAAM,GAAG,MAAM,GAAG,MAAM;MAE9D,OAAO,MAAI,CAACpC,WAAW,CAACqC,WAAW,CAAC,MAAI,CAACF,UAAU,CAAC,EACnDzB,SAAS,CAAEC,QAAQ,IAAI;QACtB,MAAI,CAAC2B,QAAQ,GAAG3B,QAAQ;QACxBU,OAAO,CAACC,GAAG,CAAC,UAAU,EAAE,MAAI,CAACgB,QAAQ,CAAC;MACxC,CAAC,CAAC;IAAC;EACL;CAED;AA1EYxC,YAAY,eALxBF,SAAS,CAAC;EACT2C,QAAQ,EAAE,SAAS;EACnBC,WAAW,EAAE,sBAAsB;EACnCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,GACW3C,YAAY,CA0ExB;SA1EYA,YAAY","names":["Component","Validators","FplComponent","constructor","_fplService","formBuilder","leagueForm","group","leagueID","compose","required","pattern","ngOnInit","getFplLeague","subscribe","response","league","standings","results","error","standingsErrors","getFplBootstrap","bootstrap","events","teams","console","log","gameweek","filter","a","gameweekID","id","sessionStorage","setItem","JSON","stringify","updateLeague","updateFplLeague","toggleDoubleGws","fixtureDGW","toogleDGWs","getFixtures","fixtures","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\eamon\\Documents\\eamon-rooney.github.io\\src\\app\\fpl\\fpl.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FplService } from './fpl.service';\r\nimport { LeagueStandings, Result } from 'app/interfaces/standings';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Bootstrap, Event, EventList, Teams } from 'app/interfaces/bootstrap';\r\nimport { FixturesList } from 'app/interfaces/fixtures';\r\n\r\n@Component({\r\n  selector: 'app-fpl',\r\n  templateUrl: './fpl.component.html',\r\n  styleUrls: ['./fpl.component.scss']\r\n})\r\nexport class FplComponent implements OnInit {\r\n\r\n  leagueForm!: FormGroup;\r\n  standingsErrors: any;\r\n  corsAnywhereURL: string = \"https://cors-anywhere.herokuapp.com\";\r\n  league!: LeagueStandings;\r\n  standings!: Result[];\r\n  p: number = 1;\r\n\r\n  bootstrap!: Bootstrap;\r\n  events!: Event | any;\r\n  teams!: Teams | any;\r\n  gameweek!: EventList;\r\n  gameweekID!: number;\r\n\r\n  toogleDGWs: string = \"Show\";\r\n  fixtureDGW!: number;\r\n  fixtures!: FixturesList;\r\n  hasMultiple: any;\r\n\r\n  constructor(private _fplService: FplService,\r\n    formBuilder: FormBuilder) {\r\n      this.leagueForm = formBuilder.group({\r\n        leagueID: [null, Validators.compose([Validators.required, Validators.pattern(/^[0-9]*$/)])],\r\n      });\r\n  }\r\n\r\n  async ngOnInit() {\r\n\r\n    (await this._fplService.getFplLeague())\r\n    .subscribe(response => {\r\n      this.league = response;\r\n      this.standings = this.league.standings.results;\r\n    }, error => {\r\n      this.standingsErrors = error;\r\n    },);\r\n\r\n\r\n    (await this._fplService.getFplBootstrap())\r\n    .subscribe(response => {\r\n      this.bootstrap = response;\r\n      this.events = this.bootstrap.events;\r\n      this.teams = this.bootstrap.teams;\r\n      console.log(\"TEAMS\", this.teams);\r\n\r\n      this.gameweek = this.events.filter((a: { [x: string]: boolean; }) => a['is_current'] === true);\r\n      this.gameweekID = this.gameweek[0].id;\r\n      sessionStorage.setItem('GameWeekID', JSON.stringify(this.gameweekID));\r\n    });\r\n\r\n  }\r\n\r\n  async updateLeague() {\r\n\r\n    (await this._fplService.updateFplLeague(this.league.league.id))\r\n    .subscribe(response => {\r\n      this.league = response;\r\n      this.standings = this.league?.standings?.results;\r\n    });\r\n\r\n  }\r\n\r\n  async toggleDoubleGws() {\r\n\r\n    this.fixtureDGW = 20;\r\n    this.toogleDGWs = this.toogleDGWs === \"Show\" ? \"Hide\" : \"Show\";\r\n\r\n    (await this._fplService.getFixtures(this.fixtureDGW))\r\n    .subscribe((response) => {\r\n      this.fixtures = response;\r\n      console.log(\"FIXTURES\", this.fixtures);\r\n    });\r\n  }\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}