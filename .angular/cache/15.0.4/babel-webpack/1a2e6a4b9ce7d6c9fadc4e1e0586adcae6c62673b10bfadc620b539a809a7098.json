{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/eamon/Documents/eamon-rooney.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet TeamComponent = class TeamComponent {\n  constructor(_teamService, router, _fplService) {\n    this._teamService = _teamService;\n    this.router = router;\n    this._fplService = _fplService;\n    this.toogleTransfers = \"Show\";\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      (yield _this._fplService.getFplBootstrap()).subscribe(response => {\n        _this.bootstrap = response;\n        _this.events = _this.bootstrap.events;\n        _this.events = _this.events.filter(a => a.id <= _this.gameweekID);\n        _this.players = _this.bootstrap.elements;\n        _this.positions = _this.bootstrap.element_types;\n      });\n      const sessionGameWeekID = sessionStorage.getItem('GameWeekID');\n      _this.gameweekID = sessionGameWeekID !== null ? JSON.parse(sessionGameWeekID) : '';\n      _this.eventID = _this.gameweekID;\n      (yield _this._teamService.getTeamPicks(_this.teamID, _this.gameweekID)).subscribe(response => {\n        _this.team = response, console.log(\"this.team\", _this.team);\n      });\n      _this.router.routeReuseStrategy.shouldReuseRoute = () => {\n        return false;\n      };\n    })();\n  }\n  updateGameweek() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      (yield _this2._teamService.getTeamPicks(_this2.teamID, _this2.eventID)).subscribe(response => _this2.team = response);\n    })();\n  }\n  toggleGWTransfers() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      _this3.toogleTransfers = _this3.toogleTransfers === \"Show\" ? \"Hide\" : \"Show\";\n      (yield _this3._teamService.getTeamTransfers(_this3.teamID)).subscribe(response => _this3.transfers = response);\n    })();\n  }\n};\nTeamComponent = __decorate([Component({\n  selector: 'app-team',\n  templateUrl: './team.component.html',\n  styleUrls: ['./team.component.scss']\n})], TeamComponent);\nexport { TeamComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AAa1C,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAExBC,YACUC,YAAyB,EACzBC,MAAc,EACdC,WAAuB;IAFvB,iBAAY,GAAZF,YAAY;IACZ,WAAM,GAANC,MAAM;IACN,gBAAW,GAAXC,WAAW;IAerB,oBAAe,GAAW,MAAM;EAfI;EAiB9BC,QAAQ;IAAA;IAAA;MAEZ,OAAO,KAAI,CAACD,WAAW,CAACE,eAAe,EAAE,EACxCC,SAAS,CAACC,QAAQ,IAAG;QACpB,KAAI,CAACC,SAAS,GAAGD,QAAQ;QAEzB,KAAI,CAACE,MAAM,GAAG,KAAI,CAACD,SAAS,CAACC,MAAM;QACnC,KAAI,CAACA,MAAM,GAAG,KAAI,CAACA,MAAM,CAACC,MAAM,CAAEC,CAAkB,IAAKA,CAAC,CAACC,EAAE,IAAI,KAAI,CAACC,UAAU,CAAC;QAEjF,KAAI,CAACC,OAAO,GAAG,KAAI,CAACN,SAAS,CAACO,QAAQ;QAEtC,KAAI,CAACC,SAAS,GAAG,KAAI,CAACR,SAAS,CAACS,aAAa;MAC/C,CAAC,CAAC;MAEF,MAAMC,iBAAiB,GAAGC,cAAc,CAACC,OAAO,CAAC,YAAY,CAAC;MAC9D,KAAI,CAACP,UAAU,GAAGK,iBAAiB,KAAK,IAAI,GAAGG,IAAI,CAACC,KAAK,CAACJ,iBAAiB,CAAC,GAAG,EAAE;MACjF,KAAI,CAACK,OAAO,GAAG,KAAI,CAACV,UAAU;MAE9B,OAAO,KAAI,CAACZ,YAAY,CAACuB,YAAY,CAAC,KAAI,CAACC,MAAM,EAAE,KAAI,CAACZ,UAAU,CAAC,EAClEP,SAAS,CAACC,QAAQ,IAAG;QACpB,KAAI,CAACmB,IAAI,GAAGnB,QAAQ,EACpBoB,OAAO,CAACC,GAAG,CAAC,WAAW,EAAE,KAAI,CAACF,IAAI,CAAC;MACrC,CAAC,CAAC;MAEF,KAAI,CAACxB,MAAM,CAAC2B,kBAAkB,CAACC,gBAAgB,GAAG,MAAK;QACrD,OAAO,KAAK;MACd,CAAC;IAAA;EAEH;EAEMC,cAAc;IAAA;IAAA;MAClB,OAAO,MAAI,CAAC9B,YAAY,CAACuB,YAAY,CAAC,MAAI,CAACC,MAAM,EAAE,MAAI,CAACF,OAAO,CAAC,EAC/DjB,SAAS,CAACC,QAAQ,IACjB,MAAI,CAACmB,IAAI,GAAGnB,QAAQ,CACrB;IAAC;EACJ;EAGMyB,iBAAiB;IAAA;IAAA;MACrB,MAAI,CAACC,eAAe,GAAG,MAAI,CAACA,eAAe,KAAK,MAAM,GAAG,MAAM,GAAG,MAAM;MAExE,OAAO,MAAI,CAAChC,YAAY,CAACiC,gBAAgB,CAAC,MAAI,CAACT,MAAM,CAAC,EACrDnB,SAAS,CAACC,QAAQ,IACjB,MAAI,CAAC4B,SAAS,GAAG5B,QAAQ,CAC1B;IAAC;EACJ;CACD;AApEYR,aAAa,eALzBD,SAAS,CAAC;EACTsC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACWvC,aAAa,CAoEzB;SApEYA,aAAa","names":["Component","TeamComponent","constructor","_teamService","router","_fplService","ngOnInit","getFplBootstrap","subscribe","response","bootstrap","events","filter","a","id","gameweekID","players","elements","positions","element_types","sessionGameWeekID","sessionStorage","getItem","JSON","parse","eventID","getTeamPicks","teamID","team","console","log","routeReuseStrategy","shouldReuseRoute","updateGameweek","toggleGWTransfers","toogleTransfers","getTeamTransfers","transfers","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\eamon\\Documents\\eamon-rooney.github.io\\src\\app\\team\\team.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { FplService } from '../fpl/fpl.service';\r\nimport { TeamService } from './team.service';\r\nimport { EventList, Event, Bootstrap, ElementType } from 'app/interfaces/bootstrap';\r\nimport { PicksList } from 'app/interfaces/picks';\r\nimport { TransferList } from 'app/interfaces/transfers';\r\n\r\n@Component({\r\n  selector: 'app-team',\r\n  templateUrl: './team.component.html',\r\n  styleUrls: ['./team.component.scss']\r\n})\r\nexport class TeamComponent implements OnInit {\r\n\r\n  constructor(\r\n    private _teamService: TeamService,\r\n    private router: Router,\r\n    private _fplService: FplService) {}\r\n\r\n  bootstrap!: Bootstrap;\r\n  events!: Event | any;\r\n  team!: PicksList;\r\n  transfers!: TransferList;\r\n  players!: Element | any;\r\n  positions! : ElementType | any;\r\n  gameweek!: EventList;\r\n  gameweekID!: number;\r\n  eventID!: number;\r\n\r\n  teamName!: string;\r\n  teamID!: number;\r\n\r\n  toogleTransfers: string = \"Show\";\r\n\r\n  async ngOnInit() {\r\n\r\n    (await this._fplService.getFplBootstrap())\r\n    .subscribe(response => {\r\n      this.bootstrap = response;\r\n\r\n      this.events = this.bootstrap.events;\r\n      this.events = this.events.filter((a: { id: number; }) => a.id <= this.gameweekID);\r\n\r\n      this.players = this.bootstrap.elements;\r\n\r\n      this.positions = this.bootstrap.element_types;\r\n    });\r\n\r\n    const sessionGameWeekID = sessionStorage.getItem('GameWeekID');\r\n    this.gameweekID = sessionGameWeekID !== null ? JSON.parse(sessionGameWeekID) : '';\r\n    this.eventID = this.gameweekID;\r\n\r\n    (await this._teamService.getTeamPicks(this.teamID, this.gameweekID))\r\n    .subscribe(response => {\r\n      this.team = response,\r\n      console.log(\"this.team\", this.team);\r\n    });\r\n\r\n    this.router.routeReuseStrategy.shouldReuseRoute = () => {\r\n      return false;\r\n    }\r\n\r\n  }\r\n\r\n  async updateGameweek() {\r\n    (await this._teamService.getTeamPicks(this.teamID, this.eventID))\r\n    .subscribe(response =>\r\n      this.team = response\r\n    );\r\n  }\r\n\r\n\r\n  async toggleGWTransfers() {\r\n    this.toogleTransfers = this.toogleTransfers === \"Show\" ? \"Hide\" : \"Show\";\r\n\r\n    (await this._teamService.getTeamTransfers(this.teamID))\r\n    .subscribe(response =>\r\n      this.transfers = response\r\n    );\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}