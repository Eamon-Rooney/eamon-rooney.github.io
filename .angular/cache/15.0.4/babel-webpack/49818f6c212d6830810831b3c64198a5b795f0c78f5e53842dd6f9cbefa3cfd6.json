{"ast":null,"code":"import { createReducer, on } from '@ngrx/store';\nimport { addLeagueTeams, addTeamPicks, savePlayers } from '../State/compareActions';\nconst initialState = {\n  elements: [],\n  teams: []\n  // elements: [],\n  // teams: [{\n  // 0: {\n  //   name: '',\n  //   league: {\n  //     active_chip: '',\n  //     automatic_subs: [],\n  //     entry_history: {\n  //     event: 0,\n  //     points: 0,\n  //     total_points: 0,\n  //     rank: 0,\n  //     rank_sort: 0,\n  //     overall_rank: 0,\n  //     bank: 0,\n  //     value: 0,\n  //     event_transfers: 0,\n  //     event_transfers_cost: 0,\n  //     points_on_bench: 0,\n  //     },\n  //     picks: []\n  //   }\n  // }}]\n};\n\nconst _compareReducer = createReducer(initialState, on(savePlayers, (state, {\n  payload\n}) => Object.assign(Object.assign({}, state), {\n  elements: payload\n})), on(addTeamPicks, (state, {\n  payload,\n  teamID,\n  teamName\n}) => Object.assign(Object.assign({}, state), {\n  teams: [...state.teams, {\n    [teamID]: {\n      name: teamName,\n      league: payload\n    }\n  }]\n})), on(addLeagueTeams, (state, {\n  payload\n}) => Object.assign(Object.assign({}, state), {\n  rivals: payload.results\n})));\nexport function reducer(state, action) {\n  if (state === null || state === void 0 ? void 0 : state.teams.find(teams => Object.keys(teams) == action.teamID)) {\n    return state;\n  } else {\n    return _compareReducer(state, action);\n  }\n}","map":{"version":3,"mappings":"AACA,SAAiBA,aAAa,EAAEC,EAAE,QAAQ,aAAa;AAGvD,SAASC,cAAc,EAAEC,YAAY,EAAEC,WAAW,QAAQ,yBAAyB;AAgBnF,MAAMC,YAAY,GAAiB;EACjCC,QAAQ,EAAE,EAAE;EACZC,KAAK,EAAE;EACP;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;CACD;;AAED,MAAMC,eAAe,GAAGR,aAAa,CAACK,YAAY,EAChDJ,EAAE,CAACG,WAAW,EAAE,CAACK,KAAK,EAAE;EAACC;AAAO,CAAC,KAAKC,gCACjCF,KAAK;EACRH,QAAQ,EAAEI;AAAO,EACjB,CAAC,EACHT,EAAE,CAACE,YAAY,EAAE,CAACM,KAAK,EAAE;EAACC,OAAO;EAAEE,MAAM;EAAEC;AAAQ,CAAC,KAAKF,gCACpDF,KAAK;EACRF,KAAK,EAAE,CAAC,GAAGE,KAAK,CAACF,KAAK,EAAE;IACtB,CAACK,MAAM,GAAG;MACRE,IAAI,EAAED,QAAQ;MACdE,MAAM,EAAEL;;GAEX;AAAC,EACF,CAAC,EACHT,EAAE,CAACC,cAAc,EAAE,CAACO,KAAK,EAAE;EAACC;AAAO,CAAC,KAAKC,gCACpCF,KAAK;EACRO,MAAM,EAAEN,OAAO,CAACO;AAAO,EACvB,CAAC,CACJ;AAED,OAAM,SAAUC,OAAO,CAACT,KAA+B,EAAEU,MAAoB;EAE3E,IAAIV,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEF,KAAK,CAACa,IAAI,CAACb,KAAK,IAAII,MAAM,CAACU,IAAI,CAACd,KAAK,CAAC,IAAIY,MAAM,CAACP,MAAM,CAAC,EAAE;IACnE,OAAOH,KAAK;GACb,MAAM;IACL,OAAOD,eAAe,CAACC,KAAK,EAAEU,MAAM,CAAC;;AAGzC","names":["createReducer","on","addLeagueTeams","addTeamPicks","savePlayers","initialState","elements","teams","_compareReducer","state","payload","Object","teamID","teamName","name","league","rivals","results","reducer","action","find","keys"],"sourceRoot":"","sources":["C:\\Users\\eamon\\Documents\\eamon-rooney.github.io\\src\\app\\State\\compareReducer.ts"],"sourcesContent":["import { state } from '@angular/animations';\r\nimport { Action, createReducer, on } from '@ngrx/store';\r\nimport { ElementList } from 'app/interfaces/bootstrap';\r\nimport { Pick, PicksList } from 'app/interfaces/picks';\r\nimport { addLeagueTeams, addTeamPicks, savePlayers } from '../State/compareActions';\r\n\r\nexport interface CompareState {\r\n  elements: ElementList;\r\n  teams: Teams[];\r\n}\r\n\r\nexport interface Teams {\r\n  [key: number]: PlayerPicks;\r\n}\r\n\r\nexport interface PlayerPicks {\r\n  name: string;\r\n  league: PicksList;\r\n}\r\n\r\nconst initialState: CompareState = {\r\n  elements: [],\r\n  teams: [],\r\n  // elements: [],\r\n  // teams: [{\r\n  // 0: {\r\n  //   name: '',\r\n  //   league: {\r\n  //     active_chip: '',\r\n  //     automatic_subs: [],\r\n  //     entry_history: {\r\n  //     event: 0,\r\n  //     points: 0,\r\n  //     total_points: 0,\r\n  //     rank: 0,\r\n  //     rank_sort: 0,\r\n  //     overall_rank: 0,\r\n  //     bank: 0,\r\n  //     value: 0,\r\n  //     event_transfers: 0,\r\n  //     event_transfers_cost: 0,\r\n  //     points_on_bench: 0,\r\n  //     },\r\n  //     picks: []\r\n  //   }\r\n  // }}]\r\n};\r\n\r\nconst _compareReducer = createReducer(initialState,\r\n  on(savePlayers, (state, {payload}) => ({\r\n    ...state,\r\n    elements: payload\r\n  })),\r\n  on(addTeamPicks, (state, {payload, teamID, teamName}) => ({\r\n    ...state,\r\n    teams: [...state.teams, {\r\n      [teamID]: {\r\n        name: teamName,\r\n        league: payload\r\n      }\r\n    }]\r\n  })),\r\n  on(addLeagueTeams, (state, {payload}) => ({\r\n    ...state,\r\n    rivals: payload.results\r\n  })),\r\n);\r\n\r\nexport function reducer(state: CompareState | undefined, action: Action | any) {\r\n\r\n  if (state?.teams.find(teams => Object.keys(teams) == action.teamID)) {\r\n    return state;\r\n  } else {\r\n    return _compareReducer(state, action);\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}