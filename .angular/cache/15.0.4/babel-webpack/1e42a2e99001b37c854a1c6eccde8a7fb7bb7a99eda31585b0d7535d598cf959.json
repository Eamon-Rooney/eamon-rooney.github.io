{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/eamon/Documents/eamon-rooney.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./team.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../fpl/fpl.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../card/card.component\";\nfunction TeamComponent_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const event_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", ctx_r0.gameweekID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", event_r2.id, \" \");\n  }\n}\nfunction TeamComponent_li_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"app-card\")(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const pick_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", pick_r4 == null ? null : pick_r4.element, \"\");\n  }\n}\nexport class TeamComponent {\n  constructor(_teamService, router, _fplService) {\n    this._teamService = _teamService;\n    this.router = router;\n    this._fplService = _fplService;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      (yield _this._fplService.getFplBootstrap()).subscribe(response => {\n        _this.bootstrap = response;\n        console.log(\"BOOTSTRAP\", response);\n        _this.events = _this.bootstrap.events;\n        console.log(\"EVENTS\", _this.events);\n        _this.gameweek = _this.events.filter(a => a['is_current'] === true);\n        console.log(\"CURRENTGAMEWEEK\", _this.gameweek);\n        _this.gameweekID = _this.gameweek[0].id;\n        console.log(\"CURRENTGAMEWEEKID\", _this.gameweekID);\n        sessionStorage.setItem('GameWeekID', JSON.stringify(_this.gameweekID));\n      });\n      let entry = _this.router.routerState.snapshot.root.children[0].url[1].path;\n      const sessionGameWeekID = sessionStorage.getItem('GameWeekID');\n      _this.gameweekID = sessionGameWeekID !== null ? JSON.parse(sessionGameWeekID) : '';\n      (yield _this._teamService.getTeamPicks(+entry, _this.gameweekID)).subscribe(response => {\n        _this.team = response;\n        console.log(\"TEAMPICKS\", _this.team);\n      });\n      _this.router.routeReuseStrategy.shouldReuseRoute = () => {\n        return false;\n      };\n    })();\n  }\n  updateGameweek() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      let entry = _this2.router.routerState.snapshot.root.children[0].url[1].path;\n      (yield _this2._teamService.getTeamPicks(+entry, _this2.gameweekID)).subscribe(response => {\n        _this2.team = response;\n        console.log(\"UPDATEGAMEWEEK\", _this2.team);\n      });\n    })();\n  }\n}\nTeamComponent.ɵfac = function TeamComponent_Factory(t) {\n  return new (t || TeamComponent)(i0.ɵɵdirectiveInject(i1.TeamService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.FplService));\n};\nTeamComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TeamComponent,\n  selectors: [[\"app-team\"]],\n  decls: 8,\n  vars: 3,\n  consts: [[3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"value\"]],\n  template: function TeamComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Players\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"Label\");\n      i0.ɵɵtext(3, \"Gameweek: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"select\", 0);\n      i0.ɵɵlistener(\"ngModelChange\", function TeamComponent_Template_select_ngModelChange_4_listener($event) {\n        return ctx.gameweekID = $event;\n      })(\"ngModelChange\", function TeamComponent_Template_select_ngModelChange_4_listener() {\n        return ctx.updateGameweek();\n      });\n      i0.ɵɵtemplate(5, TeamComponent_option_5_Template, 2, 2, \"option\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"ul\");\n      i0.ɵɵtemplate(7, TeamComponent_li_7_Template, 4, 1, \"li\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.gameweekID);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.events);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.team == null ? null : ctx.team.picks);\n    }\n  },\n  dependencies: [i4.NgForOf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgModel, i6.CardComponent],\n  styles: [\"ul[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  flex-direction: row;\\n  padding: 0;\\n  align-content: flex-start;\\n  align-items: stretch;\\n  justify-content: space-around;\\n}\\n\\nli[_ngcontent-%COMP%] {\\n  list-style: none;\\n}\\nli[_ngcontent-%COMP%]     {\\n  width: 100%;\\n  min-height: 100%;\\n}\\n@media (min-width: 768px) {\\n  li[_ngcontent-%COMP%]     {\\n    max-width: 33%;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGVhbS90ZWFtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtFQUNBLFVBQUE7RUFDQSx5QkFBQTtFQUNBLG9CQUFBO0VBQ0EsNkJBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0FBQ0Y7QUFDRTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtBQUNKO0FBQUk7RUFIRjtJQUlJLGNBQUE7RUFHSjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsidWwge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC13cmFwOiB3cmFwO1xyXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgcGFkZGluZzogMDtcclxuICBhbGlnbi1jb250ZW50OiBmbGV4LXN0YXJ0O1xyXG4gIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG59XHJcblxyXG5saSB7XHJcbiAgbGlzdC1zdHlsZTogbm9uZTtcclxuXHJcbiAgOjpuZy1kZWVwIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWluLWhlaWdodDogMTAwJTtcclxuICAgIEBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkge1xyXG4gICAgICBtYXgtd2lkdGg6IDMzJTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","TeamComponent","constructor","_teamService","router","_fplService","ngOnInit","getFplBootstrap","subscribe","response","bootstrap","console","log","events","gameweek","filter","a","gameweekID","id","sessionStorage","setItem","JSON","stringify","entry","routerState","snapshot","root","children","url","path","sessionGameWeekID","getItem","parse","getTeamPicks","team","routeReuseStrategy","shouldReuseRoute","updateGameweek","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\eamon\\Documents\\eamon-rooney.github.io\\src\\app\\team\\team.component.html","C:\\Users\\eamon\\Documents\\eamon-rooney.github.io\\src\\app\\team\\team.component.ts"],"sourcesContent":["<h2>Players</h2>\r\n\r\n<Label>Gameweek: </Label>\r\n<select [(ngModel)]=\"gameweekID\" (ngModelChange)=\"updateGameweek()\">\r\n  <option *ngFor=\"let event of events; let i = index\" [value]=\"gameweekID\"> {{ event.id }} </option>\r\n</select>\r\n\r\n<ul>\r\n  <li *ngFor=\"let pick of team?.picks; let i = index\">\r\n    <app-card>\r\n      <p> {{ pick?.element }}</p>\r\n    </app-card>\r\n  </li>\r\n</ul>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { FplService } from '../fpl/fpl.service';\r\nimport { TeamService } from './team.service';\r\nimport { EventList } from 'app/interfaces/events';\r\n\r\n@Component({\r\n  selector: 'app-team',\r\n  templateUrl: './team.component.html',\r\n  styleUrls: ['./team.component.scss']\r\n})\r\nexport class TeamComponent implements OnInit {\r\n\r\n\r\n  constructor(\r\n    private _teamService: TeamService,\r\n    private router: Router,\r\n    private _fplService: FplService) {}\r\n\r\n  bootstrap: any;\r\n  team: any;\r\n  events: any;\r\n  gameweek!: EventList;\r\n  gameweekID!: number;\r\n\r\n  async ngOnInit() {\r\n\r\n    (await this._fplService.getFplBootstrap())\r\n    .subscribe(response => {\r\n      this.bootstrap = response;\r\n      console.log(\"BOOTSTRAP\", response);\r\n      this.events = this.bootstrap.events;\r\n      console.log(\"EVENTS\", this.events);\r\n\r\n      this.gameweek = this.events.filter((a: { [x: string]: boolean; }) => a['is_current'] === true);\r\n      console.log(\"CURRENTGAMEWEEK\", this.gameweek);\r\n      this.gameweekID = this.gameweek[0].id;\r\n      console.log(\"CURRENTGAMEWEEKID\", this.gameweekID);\r\n      sessionStorage.setItem('GameWeekID', JSON.stringify(this.gameweekID));\r\n    });\r\n\r\n    let entry = this.router.routerState.snapshot.root.children[0].url[1].path;\r\n\r\n    const sessionGameWeekID = sessionStorage.getItem('GameWeekID');\r\n    this.gameweekID = sessionGameWeekID !== null ? JSON.parse(sessionGameWeekID) : '';\r\n\r\n    (await this._teamService.getTeamPicks(+entry, this.gameweekID))\r\n    .subscribe(response => {\r\n      this.team = response;\r\n      console.log(\"TEAMPICKS\", this.team);\r\n    });\r\n\r\n    this.router.routeReuseStrategy.shouldReuseRoute = () => {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  async updateGameweek() {\r\n\r\n    let entry = this.router.routerState.snapshot.root.children[0].url[1].path;\r\n\r\n    (await this._teamService.getTeamPicks(+entry, this.gameweekID))\r\n    .subscribe(response => {\r\n      this.team = response;\r\n      console.log(\"UPDATEGAMEWEEK\", this.team);\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}