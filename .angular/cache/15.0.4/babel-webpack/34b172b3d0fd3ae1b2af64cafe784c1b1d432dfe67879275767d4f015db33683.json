{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/eamon/Documents/eamon-rooney.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./team.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../fpl/fpl.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../card/card.component\";\nfunction TeamComponent_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const event_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", event_r3.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", event_r3.id, \" \");\n  }\n}\nfunction TeamComponent_ng_container_10_ng_container_3_ng_container_1_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"app-card\", 6)(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const player_r8 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" In: \", player_r8.web_name, \" \");\n  }\n}\nfunction TeamComponent_ng_container_10_ng_container_3_ng_container_1_ng_container_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"app-card\", 7)(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const player_r8 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Out: \", player_r8.web_name, \" \");\n  }\n}\nfunction TeamComponent_ng_container_10_ng_container_3_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TeamComponent_ng_container_10_ng_container_3_ng_container_1_ng_container_1_ng_container_1_Template, 4, 1, \"ng-container\", 3);\n    i0.ɵɵtemplate(2, TeamComponent_ng_container_10_ng_container_3_ng_container_1_ng_container_1_ng_container_2_Template, 4, 1, \"ng-container\", 3);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const player_r8 = i0.ɵɵnextContext().$implicit;\n    const transfer_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", transfer_r6.element_in === (player_r8 == null ? null : player_r8.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", transfer_r6.element_out === (player_r8 == null ? null : player_r8.id));\n  }\n}\nfunction TeamComponent_ng_container_10_ng_container_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TeamComponent_ng_container_10_ng_container_3_ng_container_1_ng_container_1_Template, 3, 2, \"ng-container\", 3);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const transfer_r6 = i0.ɵɵnextContext().$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", transfer_r6.event === ctx_r7.eventID);\n  }\n}\nfunction TeamComponent_ng_container_10_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TeamComponent_ng_container_10_ng_container_3_ng_container_1_Template, 2, 1, \"ng-container\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.players);\n  }\n}\nfunction TeamComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, TeamComponent_ng_container_10_ng_container_3_Template, 2, 1, \"ng-container\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Transfers game week: \", ctx_r1.eventID, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.transfers);\n  }\n}\nfunction TeamComponent_ng_container_12_ng_container_1_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"app-card\")(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const player_r18 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", player_r18.web_name, \"\");\n  }\n}\nfunction TeamComponent_ng_container_12_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TeamComponent_ng_container_12_ng_container_1_li_1_Template, 4, 1, \"li\", 3);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const pick_r21 = ctx.$implicit;\n    const player_r18 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (pick_r21 == null ? null : pick_r21.element) == (player_r18 == null ? null : player_r18.id));\n  }\n}\nfunction TeamComponent_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TeamComponent_ng_container_12_ng_container_1_Template, 2, 1, \"ng-container\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.team == null ? null : ctx_r2.team.picks);\n  }\n}\nexport class TeamComponent {\n  constructor(_teamService, router, _fplService) {\n    this._teamService = _teamService;\n    this.router = router;\n    this._fplService = _fplService;\n    this.toogleTransfers = \"Show\";\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      (yield _this._fplService.getFplBootstrap()).subscribe(response => {\n        _this.bootstrap = response;\n        _this.events = _this.bootstrap.events;\n        _this.events = _this.events.filter(a => a.id <= _this.gameweekID);\n        _this.players = _this.bootstrap.elements;\n      });\n      const sessionGameWeekID = sessionStorage.getItem('GameWeekID');\n      _this.gameweekID = sessionGameWeekID !== null ? JSON.parse(sessionGameWeekID) : '';\n      _this.eventID = _this.gameweekID;\n      (yield _this._teamService.getTeamPicks(_this.teamID, _this.gameweekID)).subscribe(response => _this.team = response);\n      _this.router.routeReuseStrategy.shouldReuseRoute = () => {\n        return false;\n      };\n      (yield _this._teamService.getTeamTransfers(_this.teamID)).subscribe(response => {\n        _this.transfers = response;\n        console.log(_this.teamName, _this.transfers);\n      });\n    })();\n  }\n  updateGameweek() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      (yield _this2._teamService.getTeamPicks(_this2.teamID, _this2.eventID)).subscribe(response => _this2.team = response);\n    })();\n  }\n  toggleGWTransfers() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      // if (this.toogleTransfers === \"Show\") {\n      //   (await this._teamService.getTeamTransfers(this.teamID))\n      //   .subscribe(response => {\n      //     this.transfers = response;\n      //     console.log(this.teamName, this.transfers)\n      //   });\n      // }\n      _this3.toogleTransfers = _this3.toogleTransfers === \"Show\" ? \"Hide\" : \"Show\";\n    })();\n  }\n}\nTeamComponent.ɵfac = function TeamComponent_Factory(t) {\n  return new (t || TeamComponent)(i0.ɵɵdirectiveInject(i1.TeamService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.FplService));\n};\nTeamComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TeamComponent,\n  selectors: [[\"app-team\"]],\n  decls: 13,\n  vars: 8,\n  consts: [[3, \"ngModel\", \"ngModelChange\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"ngDefaultControl\", \"\", 1, \"button\", \"button-primary\", 3, \"ngModel\", \"ngModelChange\", \"click\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngValue\"], [2, \"color\", \"green\"], [2, \"color\", \"red\"]],\n  template: function TeamComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"Label\");\n      i0.ɵɵtext(3, \"Switch Gameweek: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"select\", 0);\n      i0.ɵɵlistener(\"ngModelChange\", function TeamComponent_Template_select_ngModelChange_4_listener($event) {\n        return ctx.eventID = $event;\n      })(\"ngModelChange\", function TeamComponent_Template_select_ngModelChange_4_listener() {\n        return ctx.updateGameweek();\n      });\n      i0.ɵɵtemplate(5, TeamComponent_option_5_Template, 2, 2, \"option\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"Label\");\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"button\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function TeamComponent_Template_button_ngModelChange_8_listener($event) {\n        return ctx.toogleTransfers = $event;\n      })(\"click\", function TeamComponent_Template_button_click_8_listener() {\n        return ctx.toggleGWTransfers();\n      });\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, TeamComponent_ng_container_10_Template, 4, 2, \"ng-container\", 3);\n      i0.ɵɵelementStart(11, \"ul\");\n      i0.ɵɵtemplate(12, TeamComponent_ng_container_12_Template, 2, 1, \"ng-container\", 4);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\"Players: \", ctx.teamName, \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.eventID);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.events);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" Current Gameweek: \", ctx.gameweekID, \"\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.toogleTransfers);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", ctx.toogleTransfers, \" game week transfers\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.toogleTransfers === \"Hide\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.players);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgModel, i6.CardComponent],\n  styles: [\"ul[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  flex-direction: row;\\n  padding: 0;\\n  align-content: flex-start;\\n  align-items: stretch;\\n  justify-content: space-around;\\n}\\n\\nli[_ngcontent-%COMP%] {\\n  list-style: none;\\n}\\nli[_ngcontent-%COMP%]     {\\n  width: 100%;\\n  min-height: 100%;\\n}\\n@media (min-width: 768px) {\\n  li[_ngcontent-%COMP%]     {\\n    max-width: 33%;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGVhbS90ZWFtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtFQUNBLFVBQUE7RUFDQSx5QkFBQTtFQUNBLG9CQUFBO0VBQ0EsNkJBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0FBQ0Y7QUFDRTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtBQUNKO0FBQUk7RUFIRjtJQUlJLGNBQUE7RUFHSjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsidWwge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC13cmFwOiB3cmFwO1xyXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgcGFkZGluZzogMDtcclxuICBhbGlnbi1jb250ZW50OiBmbGV4LXN0YXJ0O1xyXG4gIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG59XHJcblxyXG5saSB7XHJcbiAgbGlzdC1zdHlsZTogbm9uZTtcclxuXHJcbiAgOjpuZy1kZWVwIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWluLWhlaWdodDogMTAwJTtcclxuICAgIEBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkge1xyXG4gICAgICBtYXgtd2lkdGg6IDMzJTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","TeamComponent","constructor","_teamService","router","_fplService","ngOnInit","getFplBootstrap","subscribe","response","bootstrap","events","filter","a","id","gameweekID","players","elements","sessionGameWeekID","sessionStorage","getItem","JSON","parse","eventID","getTeamPicks","teamID","team","routeReuseStrategy","shouldReuseRoute","getTeamTransfers","transfers","console","log","teamName","updateGameweek","toggleGWTransfers","toogleTransfers","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\eamon\\Documents\\eamon-rooney.github.io\\src\\app\\team\\team.component.html","C:\\Users\\eamon\\Documents\\eamon-rooney.github.io\\src\\app\\team\\team.component.ts"],"sourcesContent":["<h2>Players: {{ teamName }}</h2>\r\n\r\n<Label>Switch Gameweek: </Label>\r\n<select [(ngModel)]=\"eventID\" (ngModelChange)=\"updateGameweek()\">\r\n  <option *ngFor=\"let event of events; let i = index\" [ngValue]=\"event.id\"> {{ event.id }} </option>\r\n</select>\r\n<Label> Current Gameweek: {{ gameweekID}}</Label>\r\n\r\n<button ngDefaultControl [(ngModel)]=\"toogleTransfers\" class=\"button button-primary\" (click)=\"toggleGWTransfers()\"> {{ toogleTransfers }} game week transfers</button>\r\n\r\n\r\n<ng-container *ngIf=\"toogleTransfers === 'Hide'\">\r\n\r\n  <h2>Transfers game week: {{ eventID }} </h2>\r\n  <ng-container *ngFor=\"let transfer of transfers\">\r\n    <ng-container *ngFor=\"let player of players; let i = index\">\r\n      <ng-container *ngIf=\"transfer.event === eventID\">\r\n        <ng-container *ngIf=\"transfer.element_in === player?.id\">\r\n          <app-card style=\"color: green;\">\r\n            <p> In: {{ player.web_name }} </p>\r\n          </app-card>\r\n          </ng-container>\r\n          <ng-container *ngIf=\"transfer.element_out === player?.id\">\r\n          <app-card style=\"color: red;\">\r\n            <p> Out: {{ player.web_name }} </p>\r\n          </app-card>\r\n        </ng-container>\r\n      </ng-container>\r\n    </ng-container>\r\n  </ng-container>\r\n</ng-container>\r\n\r\n\r\n<ul>\r\n  <ng-container *ngFor=\"let player of players; let i = index\">\r\n    <ng-container *ngFor=\"let pick of team?.picks; let i = index\">\r\n      <li *ngIf=\"pick?.element == player?.id\">\r\n        <app-card>\r\n          <p> {{ player.web_name }}</p>\r\n        </app-card>\r\n      </li>\r\n    </ng-container>\r\n  </ng-container>\r\n</ul>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { FplService } from '../fpl/fpl.service';\r\nimport { TeamService } from './team.service';\r\nimport { EventList, Event, Bootstrap } from 'app/interfaces/bootstrap';\r\nimport { Team } from 'app/interfaces/entry';\r\n\r\n@Component({\r\n  selector: 'app-team',\r\n  templateUrl: './team.component.html',\r\n  styleUrls: ['./team.component.scss']\r\n})\r\nexport class TeamComponent implements OnInit {\r\n\r\n  constructor(\r\n    private _teamService: TeamService,\r\n    private router: Router,\r\n    private _fplService: FplService) {}\r\n\r\n  bootstrap!: Bootstrap | any;\r\n  events!: Event | any;\r\n  team: Team | any;\r\n  transfers!: any;\r\n  players: any;\r\n  gameweek!: EventList;\r\n  gameweekID!: number;\r\n  eventID!: number;\r\n\r\n  teamName!: string;\r\n  teamID!: number;\r\n\r\n  toogleTransfers: string = \"Show\";\r\n\r\n  async ngOnInit() {\r\n\r\n    (await this._fplService.getFplBootstrap())\r\n    .subscribe(response => {\r\n      this.bootstrap = response;\r\n\r\n      this.events = this.bootstrap.events;\r\n      this.events = this.events.filter((a: { id: number; }) => a.id <= this.gameweekID);\r\n\r\n      this.players = this.bootstrap.elements;\r\n    });\r\n\r\n    const sessionGameWeekID = sessionStorage.getItem('GameWeekID');\r\n    this.gameweekID = sessionGameWeekID !== null ? JSON.parse(sessionGameWeekID) : '';\r\n    this.eventID = this.gameweekID;\r\n\r\n    (await this._teamService.getTeamPicks(this.teamID, this.gameweekID))\r\n    .subscribe(response =>\r\n      this.team = response\r\n    );\r\n\r\n    this.router.routeReuseStrategy.shouldReuseRoute = () => {\r\n      return false;\r\n    }\r\n\r\n    (await this._teamService.getTeamTransfers(this.teamID))\r\n    .subscribe(response => {\r\n      this.transfers = response;\r\n      console.log(this.teamName, this.transfers)\r\n    });\r\n\r\n  }\r\n\r\n  async updateGameweek() {\r\n    (await this._teamService.getTeamPicks(this.teamID, this.eventID))\r\n    .subscribe(response =>\r\n      this.team = response\r\n    );\r\n  }\r\n\r\n\r\n  async toggleGWTransfers() {\r\n    // if (this.toogleTransfers === \"Show\") {\r\n    //   (await this._teamService.getTeamTransfers(this.teamID))\r\n    //   .subscribe(response => {\r\n    //     this.transfers = response;\r\n    //     console.log(this.teamName, this.transfers)\r\n    //   });\r\n    // }\r\n\r\n    this.toogleTransfers = this.toogleTransfers === \"Show\" ? \"Hide\" : \"Show\";\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}