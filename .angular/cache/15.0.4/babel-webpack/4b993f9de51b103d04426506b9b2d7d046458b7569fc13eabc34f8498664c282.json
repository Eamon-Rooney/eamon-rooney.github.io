{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/eamon/Documents/eamon-rooney.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet TeamComponent = class TeamComponent {\n  constructor(_teamService, router, _fplService) {\n    this._teamService = _teamService;\n    this.router = router;\n    this._fplService = _fplService;\n    this.toogleTransfers = \"Show\";\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      (yield _this._fplService.getFplBootstrap()).subscribe(response => {\n        _this.bootstrap = response;\n        _this.events = _this.bootstrap.events;\n        _this.events = _this.events.filter(a => a.id <= _this.gameweekID);\n        _this.players = _this.bootstrap.elements;\n      });\n      const sessionGameWeekID = sessionStorage.getItem('GameWeekID');\n      _this.gameweekID = sessionGameWeekID !== null ? JSON.parse(sessionGameWeekID) : '';\n      _this.eventID = _this.gameweekID;\n      (yield _this._teamService.getTeamPicks(_this.teamID, _this.gameweekID)).subscribe(response => _this.team = response);\n      _this.router.routeReuseStrategy.shouldReuseRoute = () => {\n        return false;\n      };\n      (yield _this._teamService.getTeamTransfers(_this.teamID)).subscribe(response => {\n        _this.transfers = response;\n        console.log(_this.teamName, _this.transfers);\n      });\n    })();\n  }\n  updateGameweek() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      (yield _this2._teamService.getTeamPicks(_this2.teamID, _this2.eventID)).subscribe(response => _this2.team = response);\n    })();\n  }\n  toggleGWTransfers() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      // if (this.toogleTransfers === \"Show\") {\n      //   (await this._teamService.getTeamTransfers(this.teamID))\n      //   .subscribe(response => {\n      //     this.transfers = response;\n      //     console.log(this.teamName, this.transfers)\n      //   });\n      // }\n      _this3.toogleTransfers = _this3.toogleTransfers === \"Show\" ? \"Hide\" : \"Show\";\n    })();\n  }\n};\nTeamComponent = __decorate([Component({\n  selector: 'app-team',\n  templateUrl: './team.component.html',\n  styleUrls: ['./team.component.scss']\n})], TeamComponent);\nexport { TeamComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AAY1C,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAExBC,YACUC,YAAyB,EACzBC,MAAc,EACdC,WAAuB;IAFvB,iBAAY,GAAZF,YAAY;IACZ,WAAM,GAANC,MAAM;IACN,gBAAW,GAAXC,WAAW;IAcrB,oBAAe,GAAW,MAAM;EAdI;EAgB9BC,QAAQ;IAAA;IAAA;MAEZ,OAAO,KAAI,CAACD,WAAW,CAACE,eAAe,EAAE,EACxCC,SAAS,CAACC,QAAQ,IAAG;QACpB,KAAI,CAACC,SAAS,GAAGD,QAAQ;QAEzB,KAAI,CAACE,MAAM,GAAG,KAAI,CAACD,SAAS,CAACC,MAAM;QACnC,KAAI,CAACA,MAAM,GAAG,KAAI,CAACA,MAAM,CAACC,MAAM,CAAEC,CAAkB,IAAKA,CAAC,CAACC,EAAE,IAAI,KAAI,CAACC,UAAU,CAAC;QAEjF,KAAI,CAACC,OAAO,GAAG,KAAI,CAACN,SAAS,CAACO,QAAQ;MACxC,CAAC,CAAC;MAEF,MAAMC,iBAAiB,GAAGC,cAAc,CAACC,OAAO,CAAC,YAAY,CAAC;MAC9D,KAAI,CAACL,UAAU,GAAGG,iBAAiB,KAAK,IAAI,GAAGG,IAAI,CAACC,KAAK,CAACJ,iBAAiB,CAAC,GAAG,EAAE;MACjF,KAAI,CAACK,OAAO,GAAG,KAAI,CAACR,UAAU;MAE9B,OAAO,KAAI,CAACZ,YAAY,CAACqB,YAAY,CAAC,KAAI,CAACC,MAAM,EAAE,KAAI,CAACV,UAAU,CAAC,EAClEP,SAAS,CAACC,QAAQ,IACjB,KAAI,CAACiB,IAAI,GAAGjB,QAAQ,CACrB;MAED,KAAI,CAACL,MAAM,CAACuB,kBAAkB,CAACC,gBAAgB,GAAG,MAAK;QACrD,OAAO,KAAK;MACd,CAAC;MAED,OAAO,KAAI,CAACzB,YAAY,CAAC0B,gBAAgB,CAAC,KAAI,CAACJ,MAAM,CAAC,EACrDjB,SAAS,CAACC,QAAQ,IAAG;QACpB,KAAI,CAACqB,SAAS,GAAGrB,QAAQ;QACzBsB,OAAO,CAACC,GAAG,CAAC,KAAI,CAACC,QAAQ,EAAE,KAAI,CAACH,SAAS,CAAC;MAC5C,CAAC,CAAC;IAAC;EAEL;EAEMI,cAAc;IAAA;IAAA;MAClB,OAAO,MAAI,CAAC/B,YAAY,CAACqB,YAAY,CAAC,MAAI,CAACC,MAAM,EAAE,MAAI,CAACF,OAAO,CAAC,EAC/Df,SAAS,CAACC,QAAQ,IACjB,MAAI,CAACiB,IAAI,GAAGjB,QAAQ,CACrB;IAAC;EACJ;EAGM0B,iBAAiB;IAAA;IAAA;MACrB;MACA;MACA;MACA;MACA;MACA;MACA;MAEA,MAAI,CAACC,eAAe,GAAG,MAAI,CAACA,eAAe,KAAK,MAAM,GAAG,MAAM,GAAG,MAAM;IAAC;EAC3E;CACD;AAzEYnC,aAAa,eALzBD,SAAS,CAAC;EACTqC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACWtC,aAAa,CAyEzB;SAzEYA,aAAa","names":["Component","TeamComponent","constructor","_teamService","router","_fplService","ngOnInit","getFplBootstrap","subscribe","response","bootstrap","events","filter","a","id","gameweekID","players","elements","sessionGameWeekID","sessionStorage","getItem","JSON","parse","eventID","getTeamPicks","teamID","team","routeReuseStrategy","shouldReuseRoute","getTeamTransfers","transfers","console","log","teamName","updateGameweek","toggleGWTransfers","toogleTransfers","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\eamon\\Documents\\eamon-rooney.github.io\\src\\app\\team\\team.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { FplService } from '../fpl/fpl.service';\r\nimport { TeamService } from './team.service';\r\nimport { EventList, Event, Bootstrap } from 'app/interfaces/bootstrap';\r\nimport { Team } from 'app/interfaces/entry';\r\n\r\n@Component({\r\n  selector: 'app-team',\r\n  templateUrl: './team.component.html',\r\n  styleUrls: ['./team.component.scss']\r\n})\r\nexport class TeamComponent implements OnInit {\r\n\r\n  constructor(\r\n    private _teamService: TeamService,\r\n    private router: Router,\r\n    private _fplService: FplService) {}\r\n\r\n  bootstrap!: Bootstrap | any;\r\n  events!: Event | any;\r\n  team: Team | any;\r\n  transfers!: any;\r\n  players: any;\r\n  gameweek!: EventList;\r\n  gameweekID!: number;\r\n  eventID!: number;\r\n\r\n  teamName!: string;\r\n  teamID!: number;\r\n\r\n  toogleTransfers: string = \"Show\";\r\n\r\n  async ngOnInit() {\r\n\r\n    (await this._fplService.getFplBootstrap())\r\n    .subscribe(response => {\r\n      this.bootstrap = response;\r\n\r\n      this.events = this.bootstrap.events;\r\n      this.events = this.events.filter((a: { id: number; }) => a.id <= this.gameweekID);\r\n\r\n      this.players = this.bootstrap.elements;\r\n    });\r\n\r\n    const sessionGameWeekID = sessionStorage.getItem('GameWeekID');\r\n    this.gameweekID = sessionGameWeekID !== null ? JSON.parse(sessionGameWeekID) : '';\r\n    this.eventID = this.gameweekID;\r\n\r\n    (await this._teamService.getTeamPicks(this.teamID, this.gameweekID))\r\n    .subscribe(response =>\r\n      this.team = response\r\n    );\r\n\r\n    this.router.routeReuseStrategy.shouldReuseRoute = () => {\r\n      return false;\r\n    }\r\n\r\n    (await this._teamService.getTeamTransfers(this.teamID))\r\n    .subscribe(response => {\r\n      this.transfers = response;\r\n      console.log(this.teamName, this.transfers)\r\n    });\r\n\r\n  }\r\n\r\n  async updateGameweek() {\r\n    (await this._teamService.getTeamPicks(this.teamID, this.eventID))\r\n    .subscribe(response =>\r\n      this.team = response\r\n    );\r\n  }\r\n\r\n\r\n  async toggleGWTransfers() {\r\n    // if (this.toogleTransfers === \"Show\") {\r\n    //   (await this._teamService.getTeamTransfers(this.teamID))\r\n    //   .subscribe(response => {\r\n    //     this.transfers = response;\r\n    //     console.log(this.teamName, this.transfers)\r\n    //   });\r\n    // }\r\n\r\n    this.toogleTransfers = this.toogleTransfers === \"Show\" ? \"Hide\" : \"Show\";\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}